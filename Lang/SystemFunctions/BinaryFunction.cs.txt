


namespace Bedrock
{
    namespace SystemFunctions
    {
        public class BinaryFunction : IGenericFunction
            {
                public BedrockType returnType;
                public string Name;

                public virtual object ExecuteFunction(object[] args)
                {
                    if (args.Length != 2)
                        throw new ArgumentException("Only 2 args allowed!");

                    throw new NotImplementedException();
                }

                public BedrockType GetGenericType()
                {
                    return returnType;
                }

                public string GetName()
                {
                    return Name;
                }

                public string[] GetParamsName()
                {
                    return new string[] { "a", "b" };
                }

                public BedrockType[] GetParamsTypes()
                {
                    return new BedrockType[] { returnType, returnType };
                }

                public string GetPrototypedName()
                {
                    var name = $"{GetName()}:{GetReturnType().GetTypeName()} (";
                    var pt = GetParamsTypes();
                    for (int i = 0; i < pt.Length; i++)
                    {
                        name += pt[i].GetTypeName();
                        if (i < pt.Length - 1)
                            name += ", ";
                    }
                    name += ")";
                    return name;
                }

                public BedrockType GetReturnType()
                {
                    return returnType;
                }

                public void SetGenericType(BedrockType type)
                {
                    returnType = type;
                }
            }
    }
}